<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problems</title>
    <link rel="stylesheet" href="../../css/Style.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="../../Images/logo-axell-logistics-fc-black-background.png" alt="Logo" class="logo">
        </div>
        <div class="language-selector">
            <div class="dropdown">
                <button class="dropbtn">
                    <img src="../../Images/UK.png" alt="Language" class="flag-icon"> <!-- Default flag -->
                </button>
                <div class="dropdown-content">
                    <button onclick="changeLanguage('pl')"><img src="../../Images/Poland.png" alt="PL" class="flag-icon"></button>
                    <button onclick="changeLanguage('en')"><img src="../../Images/UK.png" alt="EN" class="flag-icon"></button>
                    <button onclick="changeLanguage('ua')"><img src="../../Images/UKR.jpg" alt="UA" class="flag-icon"></button>
                </div>
            </div>
        </div>
    </header>
    <nav>
        <div class="nav-left">
            <button onclick="window.location.href='departments.html'">Department</button>
            <button onclick="window.location.href='category.html'">Category</button>
            <button onclick="window.location.href='problem.html'">Problem</button>
            <button onclick="window.location.href='improvment.html'">Improvement</button>
            <button onclick="window.location.href='new.html'">New Idea</button>
            <div class="dropdown">
                <button>Show Charts</button>
                <div class="dropdown-content">
                    <button onclick="window.location.href='problemChart.html'">Problems</button>
                    <button onclick="window.location.href='improvmentsChart.html'">Improvements</button>
                    <button onclick="window.location.href='ideasChart.html'">New Ideas</button>
                </div>
            </div>
        </div>
        <div class="nav-right">
            <button onclick="logout()">Logout</button>
        </div>
    </nav>
    <main>
        <button class="show-form-btn" onclick="showForm()">Add Idea</button>

        <!-- Sorting and Tabs -->
        <div class="sorting-and-tabs">
            <select id="sort-options" onchange="sortIdeas()">
                <option value="votes">Sort by Votes</option>
                <option value="date">Sort by Date</option>
            </select>
            <button onclick="showAllIdeas()">All problems</button>
            <button onclick="showCompletedIdeas()">Completed</button>
            <button onclick="showRejectedIdeas()">Rejected</button>
            <button onclick="showInProgresIdeas()">In progres</button>
        </div>

        <section id="form-section" style="display: none;">
            <form id="idea-form" enctype="multipart/form-data">
                <!-- Form contents -->
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" maxlength="55" required>
                
                <label for="department">Select Department:</label>
                <select id="department" name="department" required>
                    <option value="Unknow">Unknow</option>
                    <option value="IT">IT</option>
                    <option value="HR">HR</option>
                    <option value="Finance">Finance</option>
                    <option value="Biling">Biling</option>
                    <option value="Forwarding">Logistic</option>
                    <option value="Customer Service">Customer Service</option>
                    <option value="Werehouse Operation">Werehouse Operation</option>
                    <option value="Werehouse Administration">Werehouse Administration</option>
                    <option value="Value-added services">Value-added services</option>
                    <option value="Administration">Administration</option>
                    <option value="Marketing">Marketing</option>
                </select>

                <label for="description">Problem Description:</label>
                <textarea id="description" name="description" rows="4" maxlength="1000" required></textarea>

                <label for="solution">Proposed Solution:</label>
                <textarea id="solution" name="solution" rows="4" maxlength="1000" required></textarea>

                <label for="images">Upload Images (up to 3):</label>
                <input type="file" id="image1" name="images" accept="image/*">
                <input type="file" id="image2" name="images" accept="image/*">
                <input type="file" id="image3" name="images" accept="image/*">

                <button type="submit">Submit Idea</button>
                <button type="button" onclick="window.location.href='Category.html'">Cancel</button>
            </form>
        </section>
        
        <div id="ideas-list"></div>
    </main>
    <div id="chartsWindow" class="charts-window" style="display: none;">
        <h2>Charts</h2>
        <canvas id="ideasChart"></canvas>
        <button onclick="closeCharts()">Close</button>
    </div>
    <script type="module" src="../../js/script.js"></script>
</body>
</html>